"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/translations/route";
exports.ids = ["app/api/admin/translations/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Ftranslations%2Froute&page=%2Fapi%2Fadmin%2Ftranslations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Ftranslations%2Froute.ts&appDir=C%3A%5CUsers%5COffirOmer%5CDocuments%5CIPSPlatform%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5COffirOmer%5CDocuments%5CIPSPlatform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Ftranslations%2Froute&page=%2Fapi%2Fadmin%2Ftranslations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Ftranslations%2Froute.ts&appDir=C%3A%5CUsers%5COffirOmer%5CDocuments%5CIPSPlatform%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5COffirOmer%5CDocuments%5CIPSPlatform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_OffirOmer_Documents_IPSPlatform_src_app_api_admin_translations_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/admin/translations/route.ts */ \"(rsc)/./src/app/api/admin/translations/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/translations/route\",\n        pathname: \"/api/admin/translations\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/translations/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\OffirOmer\\\\Documents\\\\IPSPlatform\\\\src\\\\app\\\\api\\\\admin\\\\translations\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_OffirOmer_Documents_IPSPlatform_src_app_api_admin_translations_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/translations/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnRyYW5zbGF0aW9ucyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRtaW4lMkZ0cmFuc2xhdGlvbnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZG1pbiUyRnRyYW5zbGF0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNPZmZpck9tZXIlNUNEb2N1bWVudHMlNUNJUFNQbGF0Zm9ybSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDT2ZmaXJPbWVyJTVDRG9jdW1lbnRzJTVDSVBTUGxhdGZvcm0maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzBDO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFyZW50aW5nLXNjaG9vbC1wbGF0Zm9ybS8/MzU4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxPZmZpck9tZXJcXFxcRG9jdW1lbnRzXFxcXElQU1BsYXRmb3JtXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFkbWluXFxcXHRyYW5zbGF0aW9uc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWRtaW4vdHJhbnNsYXRpb25zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vdHJhbnNsYXRpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hZG1pbi90cmFuc2xhdGlvbnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxPZmZpck9tZXJcXFxcRG9jdW1lbnRzXFxcXElQU1BsYXRmb3JtXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFkbWluXFxcXHRyYW5zbGF0aW9uc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWRtaW4vdHJhbnNsYXRpb25zL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Ftranslations%2Froute&page=%2Fapi%2Fadmin%2Ftranslations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Ftranslations%2Froute.ts&appDir=C%3A%5CUsers%5COffirOmer%5CDocuments%5CIPSPlatform%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5COffirOmer%5CDocuments%5CIPSPlatform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/admin/translations/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/admin/translations/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./src/lib/supabase/server.ts\");\n\n\n// Helper function to clear translation cache\nasync function clearCache() {\n    try {\n        await fetch(`${process.env.NEXT_PUBLIC_SITE_URL || \"http://localhost:3000\"}/api/translations`, {\n            method: \"POST\"\n        });\n    } catch (error) {\n        console.error(\"Failed to clear cache:\", error);\n    }\n}\n// GET all translations (optionally filtered by language or category)\nasync function GET(request) {\n    try {\n        const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n        const { searchParams } = new URL(request.url);\n        const languageCode = searchParams.get(\"language\");\n        const category = searchParams.get(\"category\");\n        const page = parseInt(searchParams.get(\"page\") || \"1\", 10);\n        const pageSize = parseInt(searchParams.get(\"pageSize\") || \"20\", 10);\n        const search = searchParams.get(\"search\");\n        // Get total count first\n        let countQuery = supabase.from(\"translations\").select(\"*\", {\n            count: \"exact\",\n            head: true\n        });\n        if (languageCode) {\n            countQuery = countQuery.eq(\"language_code\", languageCode);\n        }\n        if (category && category !== \"all\") {\n            countQuery = countQuery.eq(\"category\", category);\n        }\n        if (search) {\n            countQuery = countQuery.or(`translation_key.ilike.%${search}%,translation_value.ilike.%${search}%`);\n        }\n        const { count } = await countQuery;\n        // Get paginated data\n        let query = supabase.from(\"translations\").select(\"*\").order(\"category\").order(\"translation_key\").range((page - 1) * pageSize, page * pageSize - 1);\n        if (languageCode) {\n            query = query.eq(\"language_code\", languageCode);\n        }\n        if (category && category !== \"all\") {\n            query = query.eq(\"category\", category);\n        }\n        if (search) {\n            query = query.or(`translation_key.ilike.%${search}%,translation_value.ilike.%${search}%`);\n        }\n        const { data: translations, error } = await query;\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: error.message\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: translations,\n            pagination: {\n                page,\n                pageSize,\n                total: count || 0,\n                totalPages: Math.ceil((count || 0) / pageSize)\n            }\n        });\n    } catch (error) {\n        console.error(\"Get translations error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to fetch translations\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST - Create or update translation\nasync function POST(request) {\n    try {\n        const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n        // Check if user is admin\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get user role from metadata (avoid RLS issues with users table)\n        const userRole = user.user_metadata?.role || \"user\";\n        const isAdmin = userRole === \"admin\";\n        if (!isAdmin) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Forbidden\"\n            }, {\n                status: 403\n            });\n        }\n        const { language_code, translation_key, translation_value, category } = await request.json();\n        if (!language_code || !translation_key || !translation_value) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        // Upsert translation\n        const { data: translation, error } = await supabase.from(\"translations\").upsert({\n            language_code,\n            translation_key,\n            translation_value,\n            category: category || translation_key.split(\".\")[0]\n        }, {\n            onConflict: \"language_code,translation_key\"\n        }).select().single();\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: error.message\n            }, {\n                status: 500\n            });\n        }\n        // Clear cache\n        await clearCache();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: translation,\n            message: \"Translation saved successfully\"\n        });\n    } catch (error) {\n        console.error(\"Save translation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to save translation\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT - Bulk update translations\nasync function PUT(request) {\n    try {\n        const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n        // Check if user is admin\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get user role from metadata (avoid RLS issues with users table)\n        const userRole = user.user_metadata?.role || \"user\";\n        const isAdmin = userRole === \"admin\";\n        if (!isAdmin) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Forbidden\"\n            }, {\n                status: 403\n            });\n        }\n        const { language_code, translations } = await request.json();\n        if (!language_code || !translations || !Array.isArray(translations)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Invalid request format\"\n            }, {\n                status: 400\n            });\n        }\n        // Prepare translations for upsert\n        const translationsToUpsert = translations.map((t)=>({\n                language_code,\n                translation_key: t.key,\n                translation_value: t.value,\n                category: t.category || t.key.split(\".\")[0]\n            }));\n        const { data, error } = await supabase.from(\"translations\").upsert(translationsToUpsert, {\n            onConflict: \"language_code,translation_key\"\n        }).select();\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: error.message\n            }, {\n                status: 500\n            });\n        }\n        // Clear cache\n        await clearCache();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data,\n            message: `${data.length} translations updated successfully`\n        });\n    } catch (error) {\n        console.error(\"Bulk update translations error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to update translations\"\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE - Delete translation\nasync function DELETE(request) {\n    try {\n        const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n        // Check if user is admin\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get user role from metadata (avoid RLS issues with users table)\n        const userRole = user.user_metadata?.role || \"user\";\n        const isAdmin = userRole === \"admin\";\n        if (!isAdmin) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Forbidden\"\n            }, {\n                status: 403\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const languageCode = searchParams.get(\"language\");\n        const translationKey = searchParams.get(\"key\");\n        if (!languageCode || !translationKey) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Language code and translation key are required\"\n            }, {\n                status: 400\n            });\n        }\n        const { error } = await supabase.from(\"translations\").delete().eq(\"language_code\", languageCode).eq(\"translation_key\", translationKey);\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: error.message\n            }, {\n                status: 500\n            });\n        }\n        // Clear cache\n        await clearCache();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Translation deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Delete translation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to delete translation\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hZG1pbi90cmFuc2xhdGlvbnMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdEO0FBQ0g7QUFFckQsNkNBQTZDO0FBQzdDLGVBQWVFO0lBQ2IsSUFBSTtRQUNGLE1BQU1DLE1BQU0sQ0FBQyxFQUFFQyxRQUFRQyxHQUFHLENBQUNDLG9CQUFvQixJQUFJLHdCQUF3QixpQkFBaUIsQ0FBQyxFQUFFO1lBQzdGQyxRQUFRO1FBQ1Y7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDBCQUEwQkE7SUFDMUM7QUFDRjtBQUVBLHFFQUFxRTtBQUM5RCxlQUFlRSxJQUFJQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNWCxrRUFBWUE7UUFDbkMsTUFBTSxFQUFFWSxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJSCxRQUFRSSxHQUFHO1FBQzVDLE1BQU1DLGVBQWVILGFBQWFJLEdBQUcsQ0FBQztRQUN0QyxNQUFNQyxXQUFXTCxhQUFhSSxHQUFHLENBQUM7UUFDbEMsTUFBTUUsT0FBT0MsU0FBU1AsYUFBYUksR0FBRyxDQUFDLFdBQVcsS0FBSztRQUN2RCxNQUFNSSxXQUFXRCxTQUFTUCxhQUFhSSxHQUFHLENBQUMsZUFBZSxNQUFNO1FBQ2hFLE1BQU1LLFNBQVNULGFBQWFJLEdBQUcsQ0FBQztRQUVoQyx3QkFBd0I7UUFDeEIsSUFBSU0sYUFBYVgsU0FDZFksSUFBSSxDQUFDLGdCQUNMQyxNQUFNLENBQUMsS0FBSztZQUFFQyxPQUFPO1lBQVNDLE1BQU07UUFBSztRQUU1QyxJQUFJWCxjQUFjO1lBQ2hCTyxhQUFhQSxXQUFXSyxFQUFFLENBQUMsaUJBQWlCWjtRQUM5QztRQUVBLElBQUlFLFlBQVlBLGFBQWEsT0FBTztZQUNsQ0ssYUFBYUEsV0FBV0ssRUFBRSxDQUFDLFlBQVlWO1FBQ3pDO1FBRUEsSUFBSUksUUFBUTtZQUNWQyxhQUFhQSxXQUFXTSxFQUFFLENBQUMsQ0FB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QUssRUFBRSxHQUFHLE1BQU1JLFNBQ3JCWSxJQUFJLENBQUMsZ0JBQ0wrQyxNQUFNLEdBQ04zQyxFQUFFLENBQUMsaUJBQWlCWixjQUNwQlksRUFBRSxDQUFDLG1CQUFtQjBDO1FBRXpCLElBQUk5RCxPQUFPO1lBQ1QsT0FBT1IscURBQVlBLENBQUNtQyxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPNUIsT0FBT0EsTUFBTTZCLE9BQU87WUFBQyxHQUN2QztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsY0FBYztRQUNkLE1BQU1wQztRQUVOLE9BQU9GLHFEQUFZQSxDQUFDbUMsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLFNBQVM7UUFDWDtJQUNGLEVBQUUsT0FBTzdCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBT1IscURBQVlBLENBQUNtQyxJQUFJLENBQ3RCO1lBQUVDLFNBQVM7WUFBTzVCLE9BQU87UUFBK0IsR0FDeEQ7WUFBRThCLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFyZW50aW5nLXNjaG9vbC1wbGF0Zm9ybS8uL3NyYy9hcHAvYXBpL2FkbWluL3RyYW5zbGF0aW9ucy9yb3V0ZS50cz9mYWQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2xlYXIgdHJhbnNsYXRpb24gY2FjaGVcbmFzeW5jIGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0lURV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCd9L2FwaS90cmFuc2xhdGlvbnNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2xlYXIgY2FjaGU6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIEdFVCBhbGwgdHJhbnNsYXRpb25zIChvcHRpb25hbGx5IGZpbHRlcmVkIGJ5IGxhbmd1YWdlIG9yIGNhdGVnb3J5KVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IGxhbmd1YWdlQ29kZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2xhbmd1YWdlJyk7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBzZWFyY2hQYXJhbXMuZ2V0KCdjYXRlZ29yeScpO1xuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJykgfHwgJzEnLCAxMCk7XG4gICAgY29uc3QgcGFnZVNpemUgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlU2l6ZScpIHx8ICcyMCcsIDEwKTtcbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKTtcblxuICAgIC8vIEdldCB0b3RhbCBjb3VudCBmaXJzdFxuICAgIGxldCBjb3VudFF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd0cmFuc2xhdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSk7XG5cbiAgICBpZiAobGFuZ3VhZ2VDb2RlKSB7XG4gICAgICBjb3VudFF1ZXJ5ID0gY291bnRRdWVyeS5lcSgnbGFuZ3VhZ2VfY29kZScsIGxhbmd1YWdlQ29kZSk7XG4gICAgfVxuXG4gICAgaWYgKGNhdGVnb3J5ICYmIGNhdGVnb3J5ICE9PSAnYWxsJykge1xuICAgICAgY291bnRRdWVyeSA9IGNvdW50UXVlcnkuZXEoJ2NhdGVnb3J5JywgY2F0ZWdvcnkpO1xuICAgIH1cblxuICAgIGlmIChzZWFyY2gpIHtcbiAgICAgIGNvdW50UXVlcnkgPSBjb3VudFF1ZXJ5Lm9yKGB0cmFuc2xhdGlvbl9rZXkuaWxpa2UuJSR7c2VhcmNofSUsdHJhbnNsYXRpb25fdmFsdWUuaWxpa2UuJSR7c2VhcmNofSVgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNvdW50IH0gPSBhd2FpdCBjb3VudFF1ZXJ5O1xuXG4gICAgLy8gR2V0IHBhZ2luYXRlZCBkYXRhXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd0cmFuc2xhdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAub3JkZXIoJ2NhdGVnb3J5JylcbiAgICAgIC5vcmRlcigndHJhbnNsYXRpb25fa2V5JylcbiAgICAgIC5yYW5nZSgocGFnZSAtIDEpICogcGFnZVNpemUsIHBhZ2UgKiBwYWdlU2l6ZSAtIDEpO1xuXG4gICAgaWYgKGxhbmd1YWdlQ29kZSkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnbGFuZ3VhZ2VfY29kZScsIGxhbmd1YWdlQ29kZSk7XG4gICAgfVxuXG4gICAgaWYgKGNhdGVnb3J5ICYmIGNhdGVnb3J5ICE9PSAnYWxsJykge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2F0ZWdvcnknLCBjYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaCkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5vcihgdHJhbnNsYXRpb25fa2V5LmlsaWtlLiUke3NlYXJjaH0lLHRyYW5zbGF0aW9uX3ZhbHVlLmlsaWtlLiUke3NlYXJjaH0lYCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBkYXRhOiB0cmFuc2xhdGlvbnMsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB0cmFuc2xhdGlvbnMsXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIHBhZ2VTaXplLFxuICAgICAgICB0b3RhbDogY291bnQgfHwgMCxcbiAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKChjb3VudCB8fCAwKSAvIHBhZ2VTaXplKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignR2V0IHRyYW5zbGF0aW9ucyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggdHJhbnNsYXRpb25zJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBQT1NUIC0gQ3JlYXRlIG9yIHVwZGF0ZSB0cmFuc2xhdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pblxuICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEdldCB1c2VyIHJvbGUgZnJvbSBtZXRhZGF0YSAoYXZvaWQgUkxTIGlzc3VlcyB3aXRoIHVzZXJzIHRhYmxlKVxuICAgIGNvbnN0IHVzZXJSb2xlID0gdXNlci51c2VyX21ldGFkYXRhPy5yb2xlIHx8ICd1c2VyJztcbiAgICBjb25zdCBpc0FkbWluID0gdXNlclJvbGUgPT09ICdhZG1pbic7XG5cbiAgICBpZiAoIWlzQWRtaW4pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGb3JiaWRkZW4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGxhbmd1YWdlX2NvZGUsIHRyYW5zbGF0aW9uX2tleSwgdHJhbnNsYXRpb25fdmFsdWUsIGNhdGVnb3J5IH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIGlmICghbGFuZ3VhZ2VfY29kZSB8fCAhdHJhbnNsYXRpb25fa2V5IHx8ICF0cmFuc2xhdGlvbl92YWx1ZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVXBzZXJ0IHRyYW5zbGF0aW9uXG4gICAgY29uc3QgeyBkYXRhOiB0cmFuc2xhdGlvbiwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndHJhbnNsYXRpb25zJylcbiAgICAgIC51cHNlcnQoe1xuICAgICAgICBsYW5ndWFnZV9jb2RlLFxuICAgICAgICB0cmFuc2xhdGlvbl9rZXksXG4gICAgICAgIHRyYW5zbGF0aW9uX3ZhbHVlLFxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnkgfHwgdHJhbnNsYXRpb25fa2V5LnNwbGl0KCcuJylbMF0sXG4gICAgICB9LCB7XG4gICAgICAgIG9uQ29uZmxpY3Q6ICdsYW5ndWFnZV9jb2RlLHRyYW5zbGF0aW9uX2tleScsXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENsZWFyIGNhY2hlXG4gICAgYXdhaXQgY2xlYXJDYWNoZSgpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB0cmFuc2xhdGlvbixcbiAgICAgIG1lc3NhZ2U6ICdUcmFuc2xhdGlvbiBzYXZlZCBzdWNjZXNzZnVsbHknLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1NhdmUgdHJhbnNsYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHNhdmUgdHJhbnNsYXRpb24nIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8vIFBVVCAtIEJ1bGsgdXBkYXRlIHRyYW5zbGF0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFkbWluXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVW5hdXRob3JpemVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHVzZXIgcm9sZSBmcm9tIG1ldGFkYXRhIChhdm9pZCBSTFMgaXNzdWVzIHdpdGggdXNlcnMgdGFibGUpXG4gICAgY29uc3QgdXNlclJvbGUgPSB1c2VyLnVzZXJfbWV0YWRhdGE/LnJvbGUgfHwgJ3VzZXInO1xuICAgIGNvbnN0IGlzQWRtaW4gPSB1c2VyUm9sZSA9PT0gJ2FkbWluJztcblxuICAgIGlmICghaXNBZG1pbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZvcmJpZGRlbicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgbGFuZ3VhZ2VfY29kZSwgdHJhbnNsYXRpb25zIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIGlmICghbGFuZ3VhZ2VfY29kZSB8fCAhdHJhbnNsYXRpb25zIHx8ICFBcnJheS5pc0FycmF5KHRyYW5zbGF0aW9ucykpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIHJlcXVlc3QgZm9ybWF0JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUHJlcGFyZSB0cmFuc2xhdGlvbnMgZm9yIHVwc2VydFxuICAgIGNvbnN0IHRyYW5zbGF0aW9uc1RvVXBzZXJ0ID0gdHJhbnNsYXRpb25zLm1hcCgodDogYW55KSA9PiAoe1xuICAgICAgbGFuZ3VhZ2VfY29kZSxcbiAgICAgIHRyYW5zbGF0aW9uX2tleTogdC5rZXksXG4gICAgICB0cmFuc2xhdGlvbl92YWx1ZTogdC52YWx1ZSxcbiAgICAgIGNhdGVnb3J5OiB0LmNhdGVnb3J5IHx8IHQua2V5LnNwbGl0KCcuJylbMF0sXG4gICAgfSkpO1xuXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd0cmFuc2xhdGlvbnMnKVxuICAgICAgLnVwc2VydCh0cmFuc2xhdGlvbnNUb1Vwc2VydCwge1xuICAgICAgICBvbkNvbmZsaWN0OiAnbGFuZ3VhZ2VfY29kZSx0cmFuc2xhdGlvbl9rZXknLFxuICAgICAgfSlcbiAgICAgIC5zZWxlY3QoKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgY2FjaGVcbiAgICBhd2FpdCBjbGVhckNhY2hlKCk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGEsXG4gICAgICBtZXNzYWdlOiBgJHtkYXRhLmxlbmd0aH0gdHJhbnNsYXRpb25zIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5YCxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdCdWxrIHVwZGF0ZSB0cmFuc2xhdGlvbnMgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSB0cmFuc2xhdGlvbnMnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8vIERFTEVURSAtIERlbGV0ZSB0cmFuc2xhdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFkbWluXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVW5hdXRob3JpemVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHVzZXIgcm9sZSBmcm9tIG1ldGFkYXRhIChhdm9pZCBSTFMgaXNzdWVzIHdpdGggdXNlcnMgdGFibGUpXG4gICAgY29uc3QgdXNlclJvbGUgPSB1c2VyLnVzZXJfbWV0YWRhdGE/LnJvbGUgfHwgJ3VzZXInO1xuICAgIGNvbnN0IGlzQWRtaW4gPSB1c2VyUm9sZSA9PT0gJ2FkbWluJztcblxuICAgIGlmICghaXNBZG1pbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZvcmJpZGRlbicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBsYW5ndWFnZUNvZGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCdsYW5ndWFnZScpO1xuICAgIGNvbnN0IHRyYW5zbGF0aW9uS2V5ID0gc2VhcmNoUGFyYW1zLmdldCgna2V5Jyk7XG5cbiAgICBpZiAoIWxhbmd1YWdlQ29kZSB8fCAhdHJhbnNsYXRpb25LZXkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdMYW5ndWFnZSBjb2RlIGFuZCB0cmFuc2xhdGlvbiBrZXkgYXJlIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd0cmFuc2xhdGlvbnMnKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoJ2xhbmd1YWdlX2NvZGUnLCBsYW5ndWFnZUNvZGUpXG4gICAgICAuZXEoJ3RyYW5zbGF0aW9uX2tleScsIHRyYW5zbGF0aW9uS2V5KTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgY2FjaGVcbiAgICBhd2FpdCBjbGVhckNhY2hlKCk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdUcmFuc2xhdGlvbiBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRGVsZXRlIHRyYW5zbGF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgdHJhbnNsYXRpb24nIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQ2xpZW50IiwiY2xlYXJDYWNoZSIsImZldGNoIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NJVEVfVVJMIiwibWV0aG9kIiwiZXJyb3IiLCJjb25zb2xlIiwiR0VUIiwicmVxdWVzdCIsInN1cGFiYXNlIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwibGFuZ3VhZ2VDb2RlIiwiZ2V0IiwiY2F0ZWdvcnkiLCJwYWdlIiwicGFyc2VJbnQiLCJwYWdlU2l6ZSIsInNlYXJjaCIsImNvdW50UXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiY291bnQiLCJoZWFkIiwiZXEiLCJvciIsInF1ZXJ5Iiwib3JkZXIiLCJyYW5nZSIsImRhdGEiLCJ0cmFuc2xhdGlvbnMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJwYWdpbmF0aW9uIiwidG90YWwiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJQT1NUIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwidXNlclJvbGUiLCJ1c2VyX21ldGFkYXRhIiwicm9sZSIsImlzQWRtaW4iLCJsYW5ndWFnZV9jb2RlIiwidHJhbnNsYXRpb25fa2V5IiwidHJhbnNsYXRpb25fdmFsdWUiLCJ0cmFuc2xhdGlvbiIsInVwc2VydCIsInNwbGl0Iiwib25Db25mbGljdCIsInNpbmdsZSIsIlBVVCIsIkFycmF5IiwiaXNBcnJheSIsInRyYW5zbGF0aW9uc1RvVXBzZXJ0IiwibWFwIiwidCIsImtleSIsInZhbHVlIiwibGVuZ3RoIiwiREVMRVRFIiwidHJhbnNsYXRpb25LZXkiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/admin/translations/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n\n\nasync function createClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://dgdondsvtqbqnsecbayx.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRnZG9uZHN2dHFicW5zZWNiYXl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyNjQ3ODIsImV4cCI6MjA3Nzg0MDc4Mn0.vJCiJGwPGhy_q7avgMnsjihi4i1a7GFUwoGv3Go-9c0\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value,\n                        ...options\n                    });\n                } catch (error) {\n                // The `set` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            },\n            remove (name, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value: \"\",\n                        ...options\n                    });\n                } catch (error) {\n                // The `delete` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUM7QUFDZ0M7QUFFaEUsZUFBZUU7SUFDcEIsTUFBTUMsY0FBYyxNQUFNSCxxREFBT0E7SUFFakMsT0FBT0MsaUVBQWtCQSxDQUN2QkcsMENBQW9DLEVBQ3BDQSxrTkFBeUMsRUFDekM7UUFDRUosU0FBUztZQUNQUSxLQUFJQyxJQUFZO2dCQUNkLE9BQU9OLFlBQVlLLEdBQUcsQ0FBQ0MsT0FBT0M7WUFDaEM7WUFDQUMsS0FBSUYsSUFBWSxFQUFFQyxLQUFhLEVBQUVFLE9BQXNCO2dCQUNyRCxJQUFJO29CQUNGVCxZQUFZUSxHQUFHLENBQUM7d0JBQUVGO3dCQUFNQzt3QkFBTyxHQUFHRSxPQUFPO29CQUFDO2dCQUM1QyxFQUFFLE9BQU9DLE9BQU87Z0JBQ2QsdURBQXVEO2dCQUN2RCx3REFBd0Q7Z0JBQ3hELGlCQUFpQjtnQkFDbkI7WUFDRjtZQUNBQyxRQUFPTCxJQUFZLEVBQUVHLE9BQXNCO2dCQUN6QyxJQUFJO29CQUNGVCxZQUFZUSxHQUFHLENBQUM7d0JBQUVGO3dCQUFNQyxPQUFPO3dCQUFJLEdBQUdFLE9BQU87b0JBQUM7Z0JBQ2hELEVBQUUsT0FBT0MsT0FBTztnQkFDZCwwREFBMEQ7Z0JBQzFELHdEQUF3RDtnQkFDeEQsaUJBQWlCO2dCQUNuQjtZQUNGO1FBQ0Y7SUFDRjtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFyZW50aW5nLXNjaG9vbC1wbGF0Zm9ybS8uL3NyYy9saWIvc3VwYWJhc2Uvc2VydmVyLnRzPzJlOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQsIHR5cGUgQ29va2llT3B0aW9ucyB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2xpZW50KCkge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcblxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgIHtcbiAgICAgIGNvb2tpZXM6IHtcbiAgICAgICAgZ2V0KG5hbWU6IHN0cmluZykge1xuICAgICAgICAgIHJldHVybiBjb29raWVTdG9yZS5nZXQobmFtZSk/LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBvcHRpb25zOiBDb29raWVPcHRpb25zKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlLCAuLi5vcHRpb25zIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBUaGUgYHNldGAgbWV0aG9kIHdhcyBjYWxsZWQgZnJvbSBhIFNlcnZlciBDb21wb25lbnQuXG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xuICAgICAgICAgICAgLy8gdXNlciBzZXNzaW9ucy5cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZShuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IENvb2tpZU9wdGlvbnMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KHsgbmFtZSwgdmFsdWU6ICcnLCAuLi5vcHRpb25zIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBUaGUgYGRlbGV0ZWAgbWV0aG9kIHdhcyBjYWxsZWQgZnJvbSBhIFNlcnZlciBDb21wb25lbnQuXG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xuICAgICAgICAgICAgLy8gdXNlciBzZXNzaW9ucy5cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn0iXSwibmFtZXMiOlsiY29va2llcyIsImNyZWF0ZVNlcnZlckNsaWVudCIsImNyZWF0ZUNsaWVudCIsImNvb2tpZVN0b3JlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZ2V0IiwibmFtZSIsInZhbHVlIiwic2V0Iiwib3B0aW9ucyIsImVycm9yIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Ftranslations%2Froute&page=%2Fapi%2Fadmin%2Ftranslations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Ftranslations%2Froute.ts&appDir=C%3A%5CUsers%5COffirOmer%5CDocuments%5CIPSPlatform%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5COffirOmer%5CDocuments%5CIPSPlatform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();